/*!
 * abTips v1.2 文本描述提示插件
 * 更多详尽信息请看官网( http://ab.geshai.com/other-plus/abTips )
 *
 * 有疑难问题可选择QQ群① 158544200 或QQ群② 790370978 进行反馈
 *
 * Copyright Carlo,Cloud
 *
 * 请尊重原创，保留头部版权
 * 在保留版权的前提下可应用于个人或商业用途
 *
 */

;!function(){var c=function(a){var b={opts:{contentEl:"a[ab-text]",attr:"ab-text",textClass:"",textArrowClass:{tl:"$1_tl",tc:"$1_tc",tr:"$1_tr",lt:"$1_lt",lc:"$1_lc",lb:"$1_lb",rt:"$1_rt",rc:"$1_rc",rb:"$1_rb",bl:"$1_bl",bc:"$1_bc",br:"$1_br"},direction:"bottom",align:"left",offsetX:10,offsetY:10,speed:80,delayTime:35,maxWidth:350,maxHeight:350,isMouse:!0,debug:!1,_version:1.2,_name:"abTips",_styleName:"abtips_a7d12",_prefix:"abtips_a7d13"},errorMsg:{1:"Invalid [contentEl=$1] element value."},extend:function(a,b){for(var c in b)a[c]=b[c];return a},px:function(a){return"$1px".replace("$1",a)},isEmpty:function(a){return null==a||"undefined"==typeof a||""==a},toBool:function(a){return a===!0},toFloat:function(a){return parseFloat(a)},randStr:function(){var d,a=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],b="",c="";for(d=0;10>d;d++)b=Math.max(Math.ceil(26*Math.random()),1),c+=""+a[b-1];return c},propertyToDef:function(a,b,c){return this.isEmpty(b)?c:(b=b.toString().toLocaleLowerCase(),a.hasOwnProperty(b)?b:c)},resize:function(){},error:function(a){if(!0!==this.opts.debug)return null;var b="[$1 v$2]: $3".replace("$1",this.opts._name).replace("$2",this.opts._version).replace("$3",this.errorMsg[a].replace("$1",this.opts.contentEl));alert(b)},flagStr:function(){return"$1-ns".replace("$1",this.opts._name)},prefixName:function(a){return"$1_$2".replace("$1",this.opts._prefix).replace("$2",a)},scrollY:function(){return $(document).scrollTop()},scrollX:function(){return $(document).scrollLeft()},styleCreate:function(){var b,a="#$1_x0".replace("$1",this.opts._styleName);return 0!=$(a).length?$(a):(b='<style type="text/css" id="$1">.$2{z-index:999999;position:absolute;padding:5px;display:none;}.$3{font-family:Consolas,"Courier New",Courier,mono,serif;font-size:12px;}.$4{padding:5px;background-color:#212121;color:#FFFFFF;border-radius:5px;overflow-y:auto;}</style>'.replace("$1",a.substring(1)).replace("$2",this.prefixName("com")).replace("$3",this.prefixName("tx")).replace("$4",this.prefixName("text")),$(b).appendTo("head"))},layerCreate:function(a,b){var c,d,e,f,g,h;return a.attr(this.flagStr(),b),c=a.attr(this.opts.attr),d="#$1_container".replace("$1",b),e=".$1".replace("$1",this.prefixName("arrow")),f=".$1".replace("$1",this.prefixName("tx")),g=this.isEmpty(this.opts.textClass)?this.prefixName("text"):this.opts.textClass,h='<div id="$1" class="$2"><div class="$3"></div><div class="$4 $5">$6</div></div>'.replace("$1",d.substring(1)).replace("$2",this.prefixName("com")).replace("$3",e.substring(1)).replace("$4",f.substring(1)).replace("$5",g).replace("$6",c),a.attr(this.opts.attr,""),$("body").append(h).find(d)},layerResize:function(a){var b={width:"",height:""};return a.css(b),a.outerWidth()>=this.opts.maxWidth&&(b.width=this.px(this.opts.maxWidth)),a.outerHeight()>=this.opts.maxHeight&&(b.height=this.px(this.opts.maxHeight)),a.css(b),{w:a.outerWidth(),h:a.outerHeight()}},layerArrowTo:function(a){return a.replace("$1",this.opts._prefix)},layerArrowDo:function(a,b){var c=this.prefixName("arrow"),d=this.layerArrowTo(this.opts.textArrowClass[b]),e=a.find(".$1".replace("$1",c));return this.isEmpty(d)||-1!=e.attr("class").indexOf(d)?!1:(e.removeClass().addClass(c).addClass(d),void 0)},bindEvent:function(a,b){var c=this,d=null,e=function(e){e.bind("mouseenter",function(){return window.clearTimeout(d),b.is(":hidden")?(d=setTimeout(function(){c.getOffset(a,b),b.stop(!0,!0).fadeIn(c.opts.speed)},c.opts.delayTime),void 0):null}).bind("mouseleave",function(){return window.clearTimeout(d),b.is(":hidden")?null:(d=setTimeout(function(){b.stop(!0,!0).fadeOut(c.opts.speed)},c.isMouse()?0:c.opts.delayTime),void 0)})};a.bind("mousemove",function(e){return window.clearTimeout(d),c.isMouse()&&c.getOffset(e,b),b.is(":hidden")?(d=setTimeout(function(){c.isMouse()||c.getOffset(a,b),b.stop(!0,!0).fadeIn(c.opts.speed)},c.opts.delayTime),void 0):null}),e(a),e(b)},getOffset:function(a,b){var p,q,r,s,t,u,v,w,x,y,z,A,c="",d=this.opts.direction,e=this.opts.align,f=this.opts.offsetX,g=this.opts.offsetY,h=this.scrollX(),i=this.scrollY(),j=$(window).width(),k=$(window).height(),l=0,m=0,n=0,o=0;switch(this.isMouse()?(n=h+a.clientX,o=i+a.clientY):(n=a.offset().left,o=a.offset().top,l=a.outerWidth(),m=a.outerHeight()),p=this.layerResize(b),p.w+=f,p.h+=g,q=(p.w-l)/2,r=(p.h-m)/2,s=0,t=0,u=this.alignCenter(),v=j-(n+l)>=q,w=j-(j-n)>=q,x=u&&w&&v,y=o-i-m>=r,z=k-(o-i)-m>=r,A=u&&y&&z,d){case"right":s=j-(n+l)>=p.w?n+l+f:n-p.w+(0-f);break;case"top":t=o-i>=p.h?o-p.h+(0-g):o+m+g;break;case"left":s=n>=p.w?n-p.w+(0-f):n+l+f;break;default:t=k-m-(o-i)>=p.h?o+m+g:o-p.h+(0-g)}"left|right".indexOf(d)>-1&&("top"==e?k-(o-i)>=p.h?(t=o+g,c="left"==d?n>=p.w?"rt":"lt":j-(n+l)>=p.w?"lt":"rt"):(t=o+m-p.h+(0-g),c="left"==d?n>=p.w?"rb":"lb":j-(n+l)>=p.w?"lb":"rb"):o+m-i>=p.h?(t=o+m-p.h+(0-g),c="left"==d?n>=p.w?"rb":"lb":j-(n+l)>=p.w?"lb":"rb"):(t=o+g,c="left"==d?n>=p.w?"rt":"lt":j-(n+l)>=p.w?"lt":"rt"),A&&(t=o-r+(0-g),c="left"==d?j-(j-n)>=p.w?"rc":"lc":j-(n+l)>=p.w?"lc":"rc")),"top|bottom".indexOf(d)>-1&&(j-n>=p.w&&"left"==e?(s=n+f,c="bottom"==d?k-(o-i)-m>=p.h?"tl":"bl":o-i>=p.h?"bl":"tl"):(s=n+l-p.w+(0-f),c="bottom"==d?k-(o-i)-m>=p.h?"tr":"br":o-i>=p.h?"br":"tr"),x&&(s=n-q+(0-f),c="bottom"==d?k-(o-i)-m>=p.h?"tc":"bc":o-i>=p.h?"bc":"tc")),this.layerArrowDo(b,c),b.css({left:this.px(s),top:this.px(t)})},alignCenter:function(){return"center"==this.opts.align},isMouse:function(){return this.opts.isMouse},optsDef:function(b){return b.hasOwnProperty("textArrowClass")&&(b.textArrowClass=this.extend(this.opts.textArrowClass,b.textArrowClass)),b=this.extend(this.opts,a),b.debug=this.toBool(b.debug),b.isMouse=this.toBool(b.isMouse),b.direction=this.propertyToDef({left:1,right:1,top:1,bottom:1},b.direction,"bottom"),b.align=this.propertyToDef({left:1,center:1,right:1,top:1,bottom:1},b.align,null),this.opts=b,this},queryEl:function(a){var b=this.randStr(),c=this.layerCreate(a,b);this.getOffset(a,c),this.bindEvent(a,c)},init:function(){var b=this.optsDef(a),c=$(this.opts.contentEl);return 0==c.length?this.error(1):(this.styleCreate(),c.each(function(a,c){b.queryEl($(c))}),void 0)}};return b.init()};window.abTips=c}(window,document);